var author={firstName:"Yudhbir",lastName:"Singh",full_name:function(){return"Author :: "+author.firstName+" "+author.lastName},load_record:function(){var a=sessionStorage.getItem("bookObject");if(null===a){author.book_listing();var a=sessionStorage.getItem("bookObject")}for(var b=JSON.parse(a),c=b.books,d="",e=0;e<c.length;e++)c[e].edit='<a href="javascript:void(0);" onclick="author.edit_book('+e+');" style="float:right;"><i class="fa fa-pencil-square-o" aria-hidden="true" title="Edit"></i></a>',c[e].deleted='<a href="javascript:void(0);" onclick="author.delete_book('+e+')"><i class="fa fa-trash-o" aria-hidden="true" title="Delete"></i></a>',d+="<tr><td>"+c[e].isbn+"</td><td>"+c[e].title+"</td><td>"+c[e].year+"</td><td>"+c[e].edit+"</td><td>"+c[e].deleted+"</td></tr>";null!=document.getElementById("no_record")&&document.getElementById("no_record").remove(),document.getElementById("book_record").insertAdjacentHTML("beforeend",d)},book_listing:function(){var a={books:[{isbn:"006251587X",title:"Weaving the Web",year:2e3},{isbn:"0465026567",title:"GÃ¶del, Escher, Bach",year:1999},{isbn:"0465030793",title:"I Am A Strange Loop",year:2008}]};return sessionStorage.setItem("bookObject",JSON.stringify(a)),a},add_record:function(){document.getElementById("edit_book_sec").style.display="none",document.getElementById("add_book_sec").style.display="block"},insert_record:function(){var a=$("#book_frm").serializeArray(),b=author.generate_json(a),a=JSON.parse(sessionStorage.getItem("bookObject"));a.books.push(b),sessionStorage.setItem("bookObject",JSON.stringify(a)),document.getElementById("add_book_sec").style.display="none",author.dynamic_content(),document.getElementById("load_result").click()},edit_book:function(a){document.getElementById("add_book_sec").style.display="none";var b=sessionStorage.getItem("bookObject"),c=JSON.parse(b);document.getElementsByName("Ed_isbn")[0].value=c.books[a].isbn,document.getElementsByName("Ed_title")[0].value=c.books[a].title,document.getElementsByName("Ed_year")[0].value=c.books[a].year,document.getElementsByName("book_id")[0].value=a,document.getElementById("edit_book_sec").style.display="block"},update_book:function(){var a=$("#Edbook_frm").serializeArray(),b=author.generate_json(a),c=b.book_id;delete b.book_id;var a=JSON.parse(sessionStorage.getItem("bookObject"));a.books[c].isbn=b.Ed_isbn,a.books[c].title=b.Ed_title,a.books[c].year=b.Ed_year,sessionStorage.setItem("bookObject",JSON.stringify(a)),document.getElementById("edit_book_sec").style.display="none",author.dynamic_content(),document.getElementById("load_result").click()},delete_book:function(a){var b=confirm("Do you want to continue ?");if(1!=b)return!1;var c=JSON.parse(sessionStorage.getItem("bookObject"));c.books.splice(a,1),sessionStorage.setItem("bookObject",JSON.stringify(c)),author.dynamic_content(),document.getElementById("load_result").click()},generate_json:function(a){var b={};return $.each(a,function(a,c){b[c.name]=c.value}),b},dynamic_content:function(){for(var a=document.getElementById("book_record");a.children.length>1;)a.removeChild(a.lastChild)},ajax_request:function(){$.ajax({type:"post",data:"url=run",success:function(a){console.log("data is running successfully")},error:function(){console.log("error is running in the code")}})}};document.getElementById("author_detail").innerHTML=author.full_name(),document.getElementById("add_book_sec").style.display="none",document.getElementById("edit_book_sec").style.display="none";